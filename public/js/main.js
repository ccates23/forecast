'use strict';

angular.module('forecast', []).controller('WeatherController', function ($http) {
  var vm = this;

  navigator.geolocation.getCurrentPosition(function (geoposition) {
    var lat = geoposition.coords.latitude;
    var long = geoposition.coords.longitude;

    $http.get('http://api.wunderground.com/api/a070218f3b576b90/conditions/q/' + lat + ',' + long + '.json').success(function (data) {
      console.log(data);
      vm.temp_f = data.current_observation.temp_f;
    });
  });
});

function getJSON(url, cb) {
  var xhr = new XMLHttpRequest();

  xhr.open('GET', url);
  xhr.onload = function () {
    if (this.status >= 200 && this.status < 400) {
      cb(JSON.parse(this.response));
    }
  };

  xhr.send();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9qcy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxDQUNKLE1BQU0sQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQ3RCLFVBQVUsQ0FBQyxtQkFBbUIsRUFBRSxVQUFTLEtBQUssRUFBQztBQUMvQyxNQUFJLEVBQUUsR0FBRyxJQUFJLENBQUM7O0FBRWQsV0FBUyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxVQUFTLFdBQVcsRUFBRTtBQUM3RCxRQUFJLEdBQUcsR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztBQUN0QyxRQUFJLElBQUksR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQzs7QUFFeEMsU0FBSyxDQUNGLEdBQUcsb0VBQWtFLEdBQUcsU0FBSSxJQUFJLFdBQVEsQ0FDeEYsT0FBTyxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQzFCLGFBQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEIsUUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDO0tBQzNDLENBQUMsQ0FBQztHQUVKLENBQUMsQ0FBQztDQUNMLENBQUMsQ0FBQzs7QUFZRCxTQUFTLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFO0FBQzNCLE1BQUksR0FBRyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7O0FBRS9CLEtBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3JCLEtBQUcsQ0FBQyxNQUFNLEdBQUcsWUFBWTtBQUN2QixRQUFJLElBQUksQ0FBQyxNQUFNLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFFO0FBQzNDLFFBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0tBQy9CO0dBQ0YsQ0FBQzs7QUFFRixLQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7Q0FDWCIsImZpbGUiOiJzcmMvanMvbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXJcbiAgLm1vZHVsZSgnZm9yZWNhc3QnLCBbXSlcbiAgLmNvbnRyb2xsZXIoJ1dlYXRoZXJDb250cm9sbGVyJywgZnVuY3Rpb24oJGh0dHApe1xuICBcdHZhciB2bSA9IHRoaXM7XG5cbiAgXHRuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKGdlb3Bvc2l0aW9uKSB7XG4gIFx0ICB2YXIgbGF0ID0gZ2VvcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICBcdCAgdmFyIGxvbmcgPSBnZW9wb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuXG4gIFx0ICAkaHR0cFx0XG4gIFx0ICAgIC5nZXQoYGh0dHA6Ly9hcGkud3VuZGVyZ3JvdW5kLmNvbS9hcGkvYTA3MDIxOGYzYjU3NmI5MC9jb25kaXRpb25zL3EvJHtsYXR9LCR7bG9uZ30uanNvbmApXG4gIFx0ICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gIFx0ICBcdGNvbnNvbGUubG9nKGRhdGEpO1xuICBcdCAgXHR2bS50ZW1wX2YgPSBkYXRhLmN1cnJlbnRfb2JzZXJ2YXRpb24udGVtcF9mO1xuICAgICAgfSk7XG5cbiAgICB9KTtcbiB9KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG4gICBmdW5jdGlvbiBnZXRKU09OKHVybCwgY2IpIHtcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCA0MDApIHtcbiAgICAgIGNiKEpTT04ucGFyc2UodGhpcy5yZXNwb25zZSkpO1xuICAgIH1cbiAgfTtcblxuICB4aHIuc2VuZCgpO1xuIH0iXX0=
